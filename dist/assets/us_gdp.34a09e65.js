import"./modulepreload-polyfill.b7f2da20.js";import*as o from"https://cdn.skypack.dev/d3@7";function y(a){const[r,l]=a.split("-").map(t=>+t),s=(l-1)/12;return r+s}async function L(){try{let b=function(e){return o.scaleLinear().domain([0,o.max(a,h=>h[1])]).range([0,c])(e)};const{data:a,display_url:r}=await o.json("https://raw.githubusercontent.com/FreeCodeCamp/ProjectReferenceData/master/GDP-data.json"),{clientWidth:l,clientHeight:s}=document.querySelector(".canvas"),t=75,n=l-2*t,c=s-2*t,u=n/a.length,p=o.scaleLinear().domain([o.min(a,e=>y(e[0])),o.max(a,e=>y(e[0]))]).range([t,t+n]),v=o.scaleLinear().domain([0,o.max(a,e=>e[1])]).range([t+c,t]),S=o.axisBottom(p),T=o.axisLeft(v),i=o.select(".canvas");i.selectAll("rect").remove(),i.selectAll("g").remove(),i.append("g").attr("transform",`translate(0, ${t+c})`).call(S),i.append("g").attr("transform",`translate(${t}, 0)`).call(T),i.selectAll("rect").data(a).enter().append("rect").attr("x",e=>p(y(e[0]))).attr("y",e=>t+c-b(e[1])).attr("width",u).attr("height",e=>b(e[1]));let f;document.querySelectorAll("rect").forEach(e=>{const d=document.querySelector(".tooltip");e.addEventListener("mouseover",h=>{clearTimeout(f);const[_,g]=e.__data__[0].split("-"),x=g==="01"?"Q1":g==="04"?"Q2":g==="07"?"Q3":"Q4";d.innerHTML=`$${e.__data__[1]}B<br>${_} ${x}`,d.style.top=`${h.clientY-30}px`}),e.addEventListener("mouseout",()=>f=setTimeout(()=>{d.animate([{opacity:0}],500),setTimeout(()=>d.innerHTML="",300)},1e3))}),document.querySelector("footer").innerHTML=`Source: <a target='_blank' href='${r}'>${r}</a>`}catch(a){console.error(a)}}L();window.onresize=L;let m=!0;function $(){m=!m;const a=document.body,{classList:r}=a,l=document.querySelectorAll("rect"),{classList:s}=document.querySelector(".canvas"),t={body:{background:"hsl(0, 0%, 20%)",color:"hsl(33, 100%, 75%)"},rects:{fill:"hsl(182, 25%, 40%)"}},n={body:{background:"hsl(0, 0%, 95%)",color:"hsl(182, 25%, 40%)"},rects:{fill:"hsl(33, 100%, 75%)"}},c=500;s.toggle("light"),s.toggle("dark"),r.toggle("light"),r.toggle("dark"),a.animate(m?[n.body,t.body]:[t.body,n.body],c),l.forEach(u=>u.animate(m?[n.rects,t.rects]:[t.rects,n.rects],c))}const k=document.querySelector(".theme-button");k.addEventListener("click",$);
